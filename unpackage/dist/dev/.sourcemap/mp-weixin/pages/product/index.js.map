{"version":3,"sources":["webpack:///C:/projects/wechat/jnmc/main.js","webpack:///C:/projects/wechat/jnmc/pages/product/index.vue?ad5f","webpack:///C:/projects/wechat/jnmc/pages/product/index.vue?91c5","webpack:///C:/projects/wechat/jnmc/pages/product/index.vue?6a04","webpack:///C:/projects/wechat/jnmc/pages/product/index.vue?67dc","webpack:///C:/projects/wechat/jnmc/pages/product/index.vue","webpack:///C:/projects/wechat/jnmc/pages/product/index.vue?59fe","webpack:///C:/projects/wechat/jnmc/pages/product/index.vue?aac3"],"names":["createPage","Page","data","left","right","bottom","bgColor","btnList","page","limit","productList","loadding","pullUpOn","operationModal","buttonList","text","type","plain","id","undefined","onLoad","getData","methods","db","wx","cloud","database","env","collection","orderBy","skip","get","then","response","length","gotoDetail","uni","navigateTo","url","gotoAddProduct","showOperation","hideOperation","handleOperation","e","index","doc","field","files","console","log","fileIDS","map","item","deleteFile","fileList","success","res","fail","err","remove","stats","removed","tui","toast","catch"],"mappings":"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","file":"pages/product/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/product/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0e0fb8b4&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"projects/wechat/jnmc/pages/product/index.vue\"\nexport default component.exports","export * from \"-!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=0e0fb8b4&\"","var components = {\n  tuiNoData: function() {\n    return import(\n      /* webpackChunkName: \"components/thorui/tui-no-data/tui-no-data\" */ \"@/components/thorui/tui-no-data/tui-no-data.vue\"\n    )\n  },\n  tuiFab: function() {\n    return import(\n      /* webpackChunkName: \"components/thorui/tui-fab/tui-fab\" */ \"@/components/thorui/tui-fab/tui-fab.vue\"\n    )\n  },\n  tuiModal: function() {\n    return import(\n      /* webpackChunkName: \"components/thorui/tui-modal/tui-modal\" */ \"@/components/thorui/tui-modal/tui-modal.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t// 悬浮按钮\n\t\t\tleft: 0,\n\t\t\tright: 10,\n\t\t\tbottom: 60,\n\t\t\tbgColor: '#5677fc',\n\t\t\tbtnList: [],\n\t\t\t// 分页数据\n\t\t\tpage: 1,\n\t\t\tlimit: 10,\n\t\t\tproductList: [],\n\t\t\tloadding: false,\n\t\t\tpullUpOn: true,\n\t\t\toperationModal: false,\n\t\t\tbuttonList: [{\n\t\t\t\t\ttext: '修改',\n\t\t\t\t\ttype: 'green',\n\t\t\t\t\tplain: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: '删除',\n\t\t\t\t\ttype: 'red',\n\t\t\t\t\tplain: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: '取消',\n\t\t\t\t\tplain: true\n\t\t\t\t}\n\t\t\t],\n\t\t\tid: undefined,\n\t\t};\n\t},\n\tonLoad() {\n\t\tthis.page = 1;\n\t\tthis.productList = [];\n\t\tthis.getData();\n\n\t},\n\tmethods: {\n\t\tgetData: function() {\n\t\t\tconst db = wx.cloud.database({\n\t\t\t\tenv: 'jnmc-ronxp'\n\t\t\t});\n\t\t\tdb.collection('product')\n\t\t\t\t.orderBy('create_time', 'desc')\n\t\t\t\t.skip((this.page - 1) * this.limit)\n\t\t\t\t.limit(this.limit)\n\t\t\t\t.get()\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.productList = response.data\n\t\t\t\t\tif (response.data.length < this.limit) {\n\t\t\t\t\t\tthis.loadding = false;\n\t\t\t\t\t\tthis.pullUpOn = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.page = this.page + 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tgotoDetail: function(id) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/product/detail?type=detail&id=' + id\n\t\t\t});\n\t\t},\n\t\tgotoAddProduct: function() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/product/detail?type=add'\n\t\t\t});\n\t\t},\n\t\tshowOperation: function(id) {\n\t\t\tthis.operationModal = true;\n\t\t\tthis.id = id;\n\t\t},\n\t\thideOperation: function() {\n\t\t\tthis.operationModal = false;\n\t\t},\n\t\thandleOperation: function(e) {\n\t\t\tlet index = e.index;\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\tthis.hideOperation();\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '/pages/product/detail?type=edit&id=' + this.id\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tthis.hideOperation();\n\t\t\t\t\tconst db = wx.cloud.database({\n\t\t\t\t\t\tenv: 'jnmc-ronxp'\n\t\t\t\t\t});\n\t\t\t\t\t// 删除产品图片\n\t\t\t\t\tdb.collection('product')\n\t\t\t\t\t\t.doc(this.id)\n\t\t\t\t\t\t.field({\n\t\t\t\t\t\t\tfiles: true\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.get()\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tconsole.log(response.data)\n\t\t\t\t\t\t\tconst fileIDS = response.data.files.map(item => item.id);\n\t\t\t\t\t\t\tif (fileIDS && fileIDS.length > 0) {\n\t\t\t\t\t\t\t\twx.cloud.deleteFile({\n\t\t\t\t\t\t\t\t\tfileList: fileIDS,\n\t\t\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\t\t\tconsole.log('删除产品图片结果：' + res);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: err => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"删除产品图片结果：\"+err);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// 删除产品\n\t\t\t\t\t\t\tdb.collection('product')\n\t\t\t\t\t\t\t\t.doc(this.id)\n\t\t\t\t\t\t\t\t.remove()\n\t\t\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\t\t\tif (response.stats.removed > 0) {\n\t\t\t\t\t\t\t\t\t\tthis.tui.toast('删除产品成功');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tthis.page = 1;\n\t\t\t\t\t\t\t\t\t\tthis.productList = [];\n\t\t\t\t\t\t\t\t\t\tthis.getData();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.tui.toast('删除产品失败');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(res => {\n\t\t\t\t\t\t\t\t\tconsole.log('删除产品失败:'+res);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(res => {\n\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.hideOperation();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t},\n}\n","import mod from \"-!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591203218738\n      var cssReload = require(\"C:/soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}